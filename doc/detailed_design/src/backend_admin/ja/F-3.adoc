== F-3 イベント公開状態切り替え

=== 基本情報
[cols="38,80"]
|=====
| メソッド,URL            | POST /admin/events/:event_item_id/:state
| コントローラ,アクション | admin/events#update_state
| ルート名                | update_admin_event_state
| ビュー                  | なし
|=====

=== リクエスト
[cols="50,35,10,40"]
|=====
| パラメータ名 | 説明 | 必須 | 備考
| event_item_id | イベント記事ID | ◯ |
| state         | 公開状態       | ◯ | published(公開), unpublished(非公開)
| return_to     | 戻り先URL      |    |
|=====

=== 仕様
. 処理成功時
** 対象のイベント記事の公開フラグ(__event_items.published__)を *true(stateがpublishedの場合)* , *falsestateが(unpublishedの場合)* に変更する
** 併せて最終更新者ID(__event_items.event_admin_user_id__)も更新する
** `return_to` の戻り先 URL へリダイレクトし、フラッシュメッセージを表示する
*** `return_to` の指定が無い場合は `C-1` へリダイレクトし、フラッシュメッセージを表示する
. 処理失敗時
** 存在しないイベント記事の場合は `404 レスポンス` を返却する
** 対象のイベント記事が既に指定された公開状態の場合は `404 レスポンス` を返却する
