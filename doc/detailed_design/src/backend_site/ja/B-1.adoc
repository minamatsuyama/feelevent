== B-1 トップページ

=== 基本情報
[cols="38,80"]
|=====
| メソッド,URL            | GET /
| コントローラ,アクション | events#index
| ルート名                | root
| ビュー                  | events/index.html.erb
|=====

=== リクエスト
* 下記フォーム定義を参照

=== 仕様
. 各フォーム要素
** フォーム定義書の各フィールドを出力する
. もっと見るボタン
** `data-url` 属性にもっと見るの URL をセットする
** 次のページが存在しない場合はボタンを表示しない
. 検索結果
** 初期表示は Rails 側で表示する
** パラメータが付いていない場合は条件をクリアした条件とした検索結果を表示する

<<<

include::../../form_site/ja/_include/B-1.adoc[]



== B-1-a トップページ:プロモーション(Cells)

=== Cells基本情報
[cols="38,80"]
|=====
| コントローラ,アクション | events#top_promotion
| ビュー                  | events/top_promotion.html.erb
| キャッシュタイム        | 300秒
|=====

=== パラメータ
* なし

=== 仕様
* 枠説明
** 左から順番に プロモーション情報の枠番号(__event_promotions.frame_number__)が 1, 2, 3, 4 の情報がそれぞれ表示される
* 枠内のプロモーション情報
** 各枠で掲載中で、かつ掲載終了日時(__event_promotions.ended_at__)が近いデータを取得
** 各枠で掲載データがなければ該当枠を非表示にする
** 全ての枠で掲載データがなければプロモーションブロック全体を非表示にする
* プロモーションバナー画像
** トップページ用画像(__event_promotion.top_image__)を表示
* リンク
** イベント詳細 `B-2` へのリンクを設置
